<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Facelet Title</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" ></script>
    </h:head>
    <h:body>
        <h:form id="frmInicio">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#">
                        Proyecto Final
                    </a>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">

                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="miperfil.xhtml">Home</a>
                            </li>
                            <li class="nav-item">
                                <h:commandLink action="producto/listadoTiendas?faces-redirect=true"
                                               class="nav-item nav-link">
                                    Listado Tiendas
                                </h:commandLink>
                            </li>
                            <li class="nav-item">
                                <h:commandLink action="producto/listadoGerentes?faces-redirect=true"
                                               class="nav-item nav-link">
                                    Listado Gerentes
                                </h:commandLink>
                            </li>
                            <li class="nav-item">
                                <h:commandLink action="producto/listadoCompras?faces-redirect=true"
                                               class="nav-item nav-link">
                                    Listado Compras
                                </h:commandLink>
                            </li>
                            <li class="nav-item">
                                <h:commandLink action="#{gerenteMB.logout()}" class="btn btn-outline-secondary nav-item nav-link" value="Logout">
                                </h:commandLink>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </h:form>      
        <br/>

        <div class="container">

            <div class="card">
                <div class="card-header">
                    <h1>
                        <center>
                            Bienvenido a tu servicio de gestión de franquicias, #{username.nombreGerente}.                            
                        </center>
                    </h1>
                </div>
                <div class="card-body">
                    <h:form>

                        <center>
                            <h4 class="card-title">
                                
                                <h:commandLink action="#{gerenteMB.prepareMyUpdate()}" value="Ver datos de mi perfil" class="btn btn-outline-info"></h:commandLink>                                        
                            </h4>

                            <h4 class="card-title">
                                <h:commandLink action="producto/listadoProducto?faces-redirect=true" value="Ver mi almacén de productos en general" class="btn btn-outline-success"></h:commandLink>                                        
                            </h4>

                            <h4 class="card-title">                                
                                <h:commandLink action="producto/listadoCategorias?faces-redirect=true" value="Ver categorías del almacén mis datos" class="btn btn-outline-dark"></h:commandLink>                                        
                            </h4>
                            <h4 class="card-title">
                                <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                    Eliminar mi cuenta
                                </button>

                                <!-- Modal -->
                                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                ¿Estás seguro de que quieres eliminar tu cuenta?
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>       
                                                <h:commandLink action="#{gerenteMB.delete_my_account()}" value="Eliminar mi cuenta"></h:commandLink>                                                                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </h4>                                                
                            <img src="https://assets.entrepreneur.com/content/3x2/2000/20180705110839-shutterstock-767569867.jpeg" width="50%"/>
                        </center>
                    </h:form>

                </div>

            </div>
        </div>

    </h:body>
</html>

